<!-- Flawed but useful autoversioner.  Going to be x.x.x.y where y is branched build #.  branch itself must be derived
     discretely, potentially throwing off redirect-style version greater-than-version comparisons -->
<Project InitialTargets="VersionGetter">
  <Target Name="VersionGetter">
    <PropertyGroup>
      <FEBranch>alpha</FEBranch>
    </PropertyGroup>
    <ReadLinesFromFile File="..\..\.version\$(FEBranch)">
      <Output TaskParameter="Lines" PropertyName="BuildVersion" />
    </ReadLinesFromFile>
    <ReadLinesFromFile File="..\..\.version\prefix.$(FEBranch)">
      <Output TaskParameter="Lines" PropertyName="ProjectVersion" />
    </ReadLinesFromFile>
    <PropertyGroup>
      <FETestVersion>$(ProjectVersion).$(BuildVersion)</FETestVersion>
	  <FileVersion>$(FETestVersion)</FileVersion>
	  <ProductVersion>$(FETestVersion)</ProductVersion>
      <ProductName>$(AssemblyName) - $(FEBranch)</ProductName>
      <AssemblyTitle>$(AssemblyName) - $(ProjectVersion)-$(FEBranch)+$(BuildVersion)</AssemblyTitle>
    </PropertyGroup>
    <Message Text="Got version: $(ProjectVersion)-$(FEBranch)$(BuildVersion) / FileVersion = $(FETestVersion)" Importance="low">
    </Message>
  </Target>
</Project>